(function(e){function t(t){for(var n,a,r=t[0],u=t[1],l=t[2],p=0,d=[];p<r.length;p++)a=r[p],o[a]&&d.push(o[a][0]),o[a]=0;for(n in u)Object.prototype.hasOwnProperty.call(u,n)&&(e[n]=u[n]);c&&c(t);while(d.length)d.shift()();return i.push.apply(i,l||[]),s()}function s(){for(var e,t=0;t<i.length;t++){for(var s=i[t],n=!0,r=1;r<s.length;r++){var u=s[r];0!==o[u]&&(n=!1)}n&&(i.splice(t--,1),e=a(a.s=s[0]))}return e}var n={},o={app:0},i=[];function a(t){if(n[t])return n[t].exports;var s=n[t]={i:t,l:!1,exports:{}};return e[t].call(s.exports,s,s.exports,a),s.l=!0,s.exports}a.m=e,a.c=n,a.d=function(e,t,s){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:s})},a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var s=Object.create(null);if(a.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)a.d(s,n,function(t){return e[t]}.bind(null,n));return s},a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],u=r.push.bind(r);r.push=t,r=r.slice();for(var l=0;l<r.length;l++)t(r[l]);var c=u;i.push([0,"chunk-vendors"]),s()})({0:function(e,t,s){e.exports=s("56d7")},"034f":function(e,t,s){"use strict";var n=s("c21b"),o=s.n(n);o.a},"0357":function(e,t,s){"use strict";var n=s("a30b"),o=s.n(n);o.a},"0c6e":function(e,t,s){},"1dd2":function(e,t,s){"use strict";var n=s("88a7"),o=s.n(n);o.a},"2a7d":function(e,t,s){"use strict";var n=s("7ab8"),o=s.n(n);o.a},"3d8c":function(e,t,s){"use strict";var n=s("e9e1"),o=s.n(n);o.a},"500d":function(e,t,s){"use strict";var n=s("b87e"),o=s.n(n);o.a},5078:function(e,t,s){"use strict";var n=s("5f85"),o=s.n(n);o.a},"51a5":function(e,t,s){},"521e":function(e,t,s){},"56d7":function(e,t,s){"use strict";s.r(t);s("cadf"),s("551c"),s("097d");var n=s("2b0e"),o=s("8c4f"),i=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{attrs:{id:"app"}},[e.errored?s("div",{staticClass:"badToken"},[s("h2",[e._v("Le token n'est pas bon...")])]):e._e(),e.loaded&&!e.errored?s("div",[s("PageButtons",{directives:[{name:"show",rawName:"v-show",value:!e.isConfirmed&&e.isOpen,expression:"!isConfirmed && isOpen"}],attrs:{page:e.extObj.pages,rootPage:parseInt(e.$route.params.rootPage)},on:{scan:function(t){e.checkForm()},refresh:e.refreshPage},model:{value:e.rootPage,callback:function(t){e.rootPage=t},expression:"rootPage"}}),s("div",{directives:[{name:"show",rawName:"v-show",value:1==e.sessionVars.rootPage&&null!=e.extObj.pic,expression:"sessionVars.rootPage==1 && extObj.pic!=null"}],staticClass:"bannerImg",style:{backgroundImage:"url("+e.extObj.pic+")"}}),s("h1",{directives:[{name:"show",rawName:"v-show",value:1==e.sessionVars.rootPage,expression:"sessionVars.rootPage==1"}]},[e._v(e._s(e.extObj.title))]),s("h2",{directives:[{name:"show",rawName:"v-show",value:e.isOpen&&1==e.sessionVars.rootPage,expression:"isOpen&& sessionVars.rootPage==1"}]},[e._v(e._s(e.extObj.subTitle))]),s("h2",{directives:[{name:"show",rawName:"v-show",value:!e.isOpen,expression:"!isOpen"}]},[e._v(e._s(e.extObj.closureMsg))]),s("p",{directives:[{name:"show",rawName:"v-show",value:!e.isConfirmed&&e.isOpen&&1==e.sessionVars.rootPage,expression:"!isConfirmed && isOpen && sessionVars.rootPage==1"}]},[e._v(e._s(e.extObj.description))]),s("p",{directives:[{name:"show",rawName:"v-show",value:e.isConfirmed,expression:"isConfirmed"}]},[e._v(e._s(e.extObj.confirmMsg))]),e._l(e.extObj.pages,function(t){return s("PageHolder",{directives:[{name:"show",rawName:"v-show",value:e.sessionVars.rootPage==t.number&&!e.isConfirmed&&e.isOpen,expression:"sessionVars.rootPage==page.number && !isConfirmed && isOpen"}],key:t.number,attrs:{page:t,id:t.number}},[s("div",{staticClass:"themeTitle"},[e._v(e._s(t.questions[0].theme))]),e._l(t.questions,function(n){return s("QuestionHolder",{directives:[{name:"show",rawName:"v-show",value:!n.isHiding||e.show.includes(n.id),expression:"!questions.isHiding ||\n    show.includes(questions.id)"}],key:n.id,attrs:{id:n.id,question:n}},["LISTE"==n.type||"BOOL"==n.type?s("PillButtons",{attrs:{question:n},on:{responseInput:function(t){e.postResponse(t)}}}):e._e(),"STARS"==n.type?s("VueStars",{attrs:{question:n},on:{responseInput:function(t){e.postResponse(t)}}}):e._e(),"RANGE"==n.type&&t.number==e.sessionVars.rootPage?s("Range",{attrs:{type:"range",question:n},on:{responseInput:function(t){e.postResponse(t)}}}):e._e(),"MULTI"==n.type||"SIMPLE"==n.type?s("CheckBoxes",{attrs:{question:n},on:{responseInput:function(t){e.postResponse(t)}}}):e._e(),"DATE"==n.type||"BIRTHDAY"==n.type?s("DatePicker",{attrs:{question:n},on:{responseInput:function(t){e.postResponse(t)}}}):e._e(),"NUM"==n.type||"TEXT"==n.type||"MEMO"==n.type?s("typeInput",{attrs:{tooltip:n.toolTip,question:n},on:{responseInput:function(t){e.postResponse(t)}},model:{value:e.input,callback:function(t){e.input=t},expression:"input"}}):e._e(),"CAPTURE"==n.type&&t.number==e.sessionVars.rootPage?s("typeSignature",{attrs:{question:n},on:{responseInput:function(t){e.postCapture(t)}}}):e._e(),"FILE"==n.type?s("typeFile",{attrs:{question:n},on:{responseInput:function(t){e.postFile(t)}}}):e._e()],1)})],2)}),s("PageHolder",{directives:[{name:"show",rawName:"v-show",value:e.isConfirmed,expression:"isConfirmed "}],attrs:{closeMsg:e.extObj.closureMsg}}),s("PageBrowser",{directives:[{name:"show",rawName:"v-show",value:!e.isConfirmed&&e.isOpen,expression:"!isConfirmed && isOpen"}],attrs:{pagesNumber:e.pagesNumber,rootPage:parseInt(e.rootPage)},on:{refresh:e.refreshPage,formConfirmed:function(t){e.finalPost()},scan:function(t){e.checkForm()}},model:{value:e.rootPage,callback:function(t){e.rootPage=t},expression:"rootPage"}}),s("div",{staticClass:"pwrBy"},[e._v("Powered by Eudonet")])],2):e._e(),e.loaded?e._e():s("div",{staticClass:"loadContainer"},[s("div",{staticClass:"loading"})])])},a=[],r=s("6bde"),u=(s("6762"),s("2fdb"),s("ac6a"),function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"pageBtnContainer"},e._l(e.page,function(t){return s("button",{key:t.number,class:["pageBtn",e.sessionVars.rootPage===t.number?"active":""],on:{click:function(s){e.select(t)}}},[e._v(e._s(t.number))])}))}),l=[],c=(s("c5f6"),{props:{page:{type:Array,default:function(){return[{}]}},rootPage:{type:Number,default:function(){return 0}}},methods:{select:function(e){e.number!=this.sessionVars.rootPage&&(this.$emit("scan"),(0==this.sessionVars.errors||e.number<this.sessionVars.rootPage)&&(this.sessionVars.rootPage=e.number,this.$emit("refresh"),this.$scrollTo(pageHolder,500,{force:!1})))}}}),p=c,d=(s("3d8c"),s("2877")),f=Object(d["a"])(p,u,l,!1,null,null,null);f.options.__file="pageButtons.vue";var h=f.exports,v=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"pageHolder",attrs:{id:"pageHolder"}},[e.page?s("div",{attrs:{id:e.page.number},on:{click:function(t){e.select(e.page.number)}}},[e._t("default")],2):e._e()])},m=[],g={props:{page:{type:Object,default:function(){}}},methods:{select:function(e){this.currentChoice=e}}},b=g,_=(s("c2a8"),Object(d["a"])(b,v,m,!1,null,null,null));_.options.__file="pageHolder.vue";var y=_.exports,q=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"buttonsHolder"},[e.question.responseChoices.length>6?s("select",{directives:[{name:"tooltip",rawName:"v-tooltip",value:e.question.toolTip,expression:"question.toolTip"},{name:"model",rawName:"v-model",value:e.myValue,expression:"myValue"}],attrs:{id:e.question.id},on:{change:[function(t){var s=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){var t="_value"in e?e._value:e.value;return t});e.myValue=t.target.multiple?s:s[0]},function(t){e.select(e.myValue)}]}},e._l(e.question.responseChoices,function(t){return s("option",{key:t.id,attrs:{responseValue:t},domProps:{value:t}},[e._v(e._s(t.value))])})):e._l(e.question.responseChoices,function(t){return s("button",{directives:[{name:"tooltip",rawName:"v-tooltip",value:e.question.toolTip,expression:"question.toolTip"}],key:t.id,class:["pillBtn",e.currentChoice===t.id?"active":""],attrs:{type:"button",id:t.id},on:{click:function(s){e.select(t)}}},[e._v("\n    "+e._s(t.value))])})],2)},k=[],P={props:{question:{type:Object,default:function(){}}},data:function(){return null!=this.question.response?this.savedChoice=this.question.response.value:this.savedChoice=null,{responseValue:null,myValue:"",currentChoice:this.savedChoice}},methods:{select:function(e){this.currentChoice=e.id,this.$emit("responseInput",{idQuestion:this.question.id,value:e.id})}}},C=P,w=(s("d280"),Object(d["a"])(C,q,k,!1,null,null,null));w.options.__file="pillButtons.vue";var x=w.exports,O=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"questionsHolder"},[e.sessionVars.errors.length>=1?s("h3",{class:[e.question.required?"required":""]},[e._v(" "+e._s(e.question.question)+"\n    ")]):s("h3",[e._v(" "+e._s(e.question.question)+" "),e.question.required?s("span",{staticStyle:{color:"#bb1515"}},[e._v("*")]):e._e()]),e._t("default")],2)},V=[],N={props:{question:{type:Object,default:function(){}}}},T=N,j=(s("1dd2"),Object(d["a"])(T,O,V,!1,null,null,null));j.options.__file="questionHolder.vue";var I=j.exports,E=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{directives:[{name:"tooltip",rawName:"v-tooltip",value:e.question.toolTip,expression:"question.toolTip"}],staticClass:"chkBxHolder"},[e._l(e.selections,function(t){return"MULTI"==e.question.type?s("div",{key:t.id,staticClass:"chkBxGrp",on:{click:function(s){e.select(t)}}},[s("div",{class:["resetPosition",t.selected?"checked":"",e.question.required?"required":""]},[s("div",{staticClass:"customTick"},[e._v("L")])]),s("div",{staticClass:"chkElmnt",attrs:{id:t.id}}),s("label",{attrs:{for:t.id}},[e._v(e._s(t.value))])]):e._e()}),e._l(e.question.responseChoices,function(t){return"SIMPLE"==e.question.type?s("div",{key:t.id,staticClass:"chkBxGrp",on:{click:function(s){e.select(t)}}},[s("div",{class:["resetPosition",e.currentTarget==t.id?"checked":"",e.question.required?"required":""]},[s("div",{staticClass:"customTick"},[e._v("L")])]),s("div",{staticClass:"chkElmnt",attrs:{id:t.id}}),s("label",{attrs:{for:t.id}},[e._v(e._s(t.value))])]):e._e()})],2)},S=[],$={props:{question:{type:Object,default:function(){return[]}}},data:function(){var e=this,t={selections:[],currentTarget:""};return this.question.responseChoices.forEach(function(e){t.selections.push({id:e.id,value:e.value,selected:!1})}),"MULTI"==this.question.type?void 0!=this.question.response&&t.selections.forEach(function(t){e.question.response.value.forEach(function(e){t.id==e&&(t.selected=!0)})}):void 0!=this.question.response?t.currentTarget=this.question.response.value:t.currentTarget,t},methods:{select:function(e){var t=this;"MULTI"==this.question.type?(e.selected=!e.selected,this.ids=[],this.selections.forEach(function(e){e.selected&&t.ids.push(e.id)})):(this.currentTarget=e.id,this.ids=[],this.ids.push(e.id)),this.$emit("responseInput",{idQuestion:this.question.id,value:this.ids})}}},F=$,R=(s("b87d"),Object(d["a"])(F,E,S,!1,null,null,null));R.options.__file="checkBoxes.vue";var B=R.exports,D=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",["BIRTHDAY"==e.question.type?s("vueDatePicker",{directives:[{name:"tooltip",rawName:"v-tooltip",value:e.question.toolTip,expression:"question.toolTip"}],staticClass:"datePickr",attrs:{placeholder:e.question.watermark,required:e.question.required,language:e.fr,initialView:"year"},on:{input:function(t){e.select(e.dateTime,e.question.id)}},model:{value:e.dateTime,callback:function(t){e.dateTime=t},expression:"dateTime"}}):e._e(),"DATE"==e.question.type?s("vueDatePicker",{directives:[{name:"tooltip",rawName:"v-tooltip",value:e.question.toolTip,expression:"question.toolTip"}],staticClass:"datePickr",attrs:{placeholder:e.question.watermark,required:e.question.required,language:e.fr},on:{input:function(t){e.select(e.dateTime,e.question.id)}},model:{value:e.dateTime,callback:function(t){e.dateTime=t},expression:"dateTime"}}):e._e()],1)},U=[],L=s("fa33"),M=s("2430"),H={name:"DatePicker",components:{vueDatePicker:L["a"]},props:{question:{type:Object,default:function(){}}},data:function(){return null!=this.question.response?this.savedChoice=this.question.response.value:this.savedChoice=null,{fr:M["a"],dateTime:this.savedChoice}},methods:{select:function(e,t){this.$emit("responseInput",{idQuestion:t,value:e})}}},Q=H,A=(s("e1bf"),s("f5a8"),Object(d["a"])(Q,D,U,!1,null,null,null));A.options.__file="datePicker.vue";var J=A.exports,z=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{ref:"typeSignature",attrs:{id:"typeSignature"}},[s("VueSignaturePad",{ref:"signaturePad",class:["VueSignaturePad",e.signed?"locked":""],attrs:{saveType:"image/svg+xml"}}),s("h4",{directives:[{name:"show",rawName:"v-show",value:e.signed,expression:"signed"}]},[e._v("Document signé")]),s("button",{directives:[{name:"show",rawName:"v-show",value:!e.signed,expression:"!signed"}],on:{click:e.undo}},[e._v("Retour")]),e.signed?e._e():s("button",{staticClass:"saveButton",on:{click:function(t){e.save(e.question.id)}}},[e._v("Signer")])],1)},G=[],K=s("2169"),X={props:{question:{type:Object,default:function(){}},pageNumber:{type:Number,default:function(){return 0}}},components:{VueSignaturePad:K["a"]},data:function(){return{sizes:{height:"",width:""},signed:!1}},methods:{undo:function(){this.$refs.signaturePad.undoSignature()},save:function(e,t){var s=this.$refs.signaturePad.saveSignature(),n=(s.isEmpty,s.data);this.sign(),this.$emit("responseInput",{idQuestion:e,value:n})},sign:function(){this.signed=!0,this.$refs.signaturePad.lockSignaturePad()}},mounted:function(){null!=this.question.response&&this.question.response.idQuestion==this.question.id&&(this.sign(),this.$refs.signaturePad.fromDataURL(this.question.response.value))}},Y=X,W=(s("0357"),Object(d["a"])(Y,z,G,!1,null,null,null));W.options.__file="typeSignature.vue";var Z=W.exports,ee=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("Stars",{attrs:{"show-rating":!1,"inactive-color":"#efefef","active-color":"#bb1515","max-rating":e.question.number},on:{"rating-selected":function(t){e.select(e.starsValue,e.question.id)}},model:{value:e.starsValue,callback:function(t){e.starsValue=t},expression:"starsValue"}})},te=[],se=s("c1da"),ne=s.n(se),oe={name:"VueStars",components:{Stars:ne.a},props:{question:{type:Object,default:function(){}}},data:function(){return null!=this.question.response?this.savedChoice=parseInt(this.question.response.value):this.savedChoice=null,{rating:null,starsValue:this.savedChoice}},methods:{select:function(e,t){this.$emit("responseInput",{idQuestion:t,value:e})}}},ie=oe,ae=(s("5078"),Object(d["a"])(ie,ee,te,!1,null,null,null));ae.options.__file="Stars.vue";var re=ae.exports,ue=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("vue-slider",{ref:"slider",attrs:{tooltip:"hover",lazy:!0,tooltipStyle:{backgroundColor:"#bb1515",borderColor:"#bb1515"},processStyle:{backgroundColor:"#bb1515"},step:e.question.step,max:e.question.max,min:e.question.min,piecewiseLabel:!0},on:{callback:function(t){e.select()}},model:{value:e.inputRange,callback:function(t){e.inputRange=t},expression:"inputRange"}})],1)},le=[],ce=s("6f79"),pe=s.n(ce),de={components:{vueSlider:pe.a},props:{question:{type:Object,default:function(){}}},data:function(){return null!=this.question.response?this.savedChoice=parseInt(this.question.response.value):this.savedChoice=parseInt(this.question.min),{inputRange:this.savedChoice}},methods:{select:function(){this.$emit("responseInput",{idQuestion:this.question.id,value:this.inputRange})}}},fe=de,he=(s("500d"),Object(d["a"])(fe,ue,le,!1,null,null,null));he.options.__file="typeRange.vue";var ve=he.exports,me=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",["TEXT"==e.question.type?s("input",{directives:[{name:"tooltip",rawName:"v-tooltip",value:e.question.toolTip,expression:"question.toolTip"},{name:"model",rawName:"v-model",value:e.input,expression:"input"}],staticClass:"textField",attrs:{placeholder:e.question.watermark,type:"text"},domProps:{value:e.input},on:{input:[function(t){t.target.composing||(e.input=t.target.value)},function(t){e.select(e.input,e.question.id)}]}}):e._e(),"NUM"==e.question.type?s("input",{directives:[{name:"tooltip",rawName:"v-tooltip",value:e.question.toolTip,expression:"question.toolTip"},{name:"model",rawName:"v-model",value:e.input,expression:"input"}],attrs:{placeholder:e.question.watermark,type:"number"},domProps:{value:e.input},on:{input:[function(t){t.target.composing||(e.input=t.target.value)},function(t){e.select(e.input,e.question.id)}]}}):e._e(),"MEMO"==e.question.type?s("textarea",{directives:[{name:"tooltip",rawName:"v-tooltip",value:e.question.toolTip,expression:"question.toolTip"},{name:"model",rawName:"v-model",value:e.input,expression:"input"}],attrs:{placeholder:e.question.watermark},domProps:{value:e.input},on:{input:[function(t){t.target.composing||(e.input=t.target.value)},function(t){e.select(e.input,e.question.id)}]}}):e._e()])},ge=[],be={props:{question:{type:Object,default:function(){}}},data:function(){return null!=this.question.response?this.savedChoice=this.question.response.value:this.savedChoice=null,{input:this.savedChoice}},methods:{select:function(e,t){this.$emit("responseInput",{idQuestion:t,value:e})}}},_e=be,ye=(s("a2d2"),Object(d["a"])(_e,me,ge,!1,null,null,null));ye.options.__file="typeInput.vue";var qe=ye.exports,ke=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"pageBrowser"},[e.sessionVars.rootPage>1?s("button",{staticClass:"prevButton",on:{click:function(t){e.prevPage()}}},[e._v("Précédent")]):e._e(),e.sessionVars.rootPage<e.pagesNumber?s("button",{staticClass:"nextButton",on:{click:function(t){e.nextPage()}}},[e._v("Suivant")]):e._e(),e.sessionVars.rootPage==e.pagesNumber?s("button",{staticClass:"nextButton validate",on:{click:function(t){e.submitForm()}}},[e._v("Valider")]):e._e()])},Pe=[],Ce={urlLocation:window.location.origin,tokenName:null,tokenValue:null,servicePath:"services/",serviceName:"",rootPage:1,pagesNumber:0,modelPage:1,errors:[],confirmed:!1},we=Ce,xe={props:{rootPage:{type:Number,default:function(){return 0}},pagesNumber:{type:Number,default:function(){return 0}}},data:function(){return{sessionVars:we}},methods:{scrollUp:function(){this.$scrollTo(we.rootPage,0,{force:!0})},submitForm:function(e){this.isRequired(),0==we.errors.length&&this.sessionVars.confirmed&&this.$emit("formConfirmed")},isRequired:function(){this.$emit("scan")},nextPage:function(){this.isRequired(),0==we.errors.length&&we.rootPage<this.pagesNumber&&(we.rootPage++,this.$emit("refresh"))},prevPage:function(){we.rootPage>=this.pagesNumber&&(we.rootPage--,this.$emit("refresh"))}}},Oe=xe,Ve=(s("da22"),Object(d["a"])(Oe,ke,Pe,!1,null,null,null));Ve.options.__file="pageBrowser.vue";var Ne=Ve.exports,Te=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{attrs:{id:"fileUpload"}},[s("label",{staticClass:"headLabel"},[s("div",[e._v("Ajoutez votre fichier ici")]),s("input",{ref:"fileattachment",attrs:{type:"file",id:"attachment",multiple:""},on:{change:function(t){e.handleFileUpload()}}})]),s("div",{class:["submitFile",0!=e.files.length?"attached":""],on:{click:function(t){e.submitFile()}}},[e._v("Envoyer")]),s("div",{class:["panelDown",0!=e.files.length?"down":""]},e._l(e.files,function(t,n){return s("div",{key:n,class:["file",e.uppedFiles.includes(t.lastModified)?"upped":""]},[s("div",{staticClass:"msgUpd"},[s("span",[e._v(e._s(t.name))]),e._v(" envoyé !"),s("div",{staticClass:"closeBtn",on:{click:function(t){e.deleteFile(n)}}},[e._v("+")])]),s("div",{staticClass:"fileTitle"},[e._v(e._s(t.name)),s("div",{staticClass:"closeBtn",on:{click:function(t){e.deleteFile(n)}}},[e._v("+")])])])}))])},je=[],Ie=(s("ac4d"),s("8a81"),{props:{question:{type:Object,default:function(){}}},components:{},data:function(){return{files:[],Url:this.sessionVars.servicePath+this.sessionVars.serviceName+this.sessionVars.tokenName+"="+encodeURIComponent(this.sessionVars.tokenValue),uppedFiles:[],fileIDs:[]}},methods:{submitFile:function(){var e=this,t=new FormData;this.sessionVars.serviceName="attachment?";var s=!0,n=!1,o=void 0;try{for(var i,a=this.files[Symbol.iterator]();!(s=(i=a.next()).done);s=!0){var r=i.value;t.append("FileUpload",r),this.uppedFiles.push(r.lastModified),console.log(this.uppedFiles)}}catch(e){n=!0,o=e}finally{try{s||null==a.return||a.return()}finally{if(n)throw o}}t.append("Quest",this.question.id),this.$http.post(this.sessionVars.servicePath+this.sessionVars.serviceName+this.sessionVars.tokenName+"="+encodeURIComponent(this.sessionVars.tokenValue),t).then(function(t){e.fileIDs.push(t.data.reponse.CurrentIdAnnexe),console.log(t),console.log("SUCCESS!!")}).catch(function(){console.log("FAILURE!!")})},deleteFile:function(e){var t=this;this.sessionVars.serviceName="deleteattachment?";var s={name:"FileDelete",uidFile:this.fileIDs[e],extension:""};this.$http.post(this.sessionVars.servicePath+this.sessionVars.serviceName+this.sessionVars.tokenName+"="+encodeURIComponent(this.sessionVars.tokenValue),JSON.stringify(s)).then(function(s){console.log(s),console.log("DELETE SUCCESS!!"),t.files.splice(e,1),t.fileIDs.splice(e,1)}).catch(function(){console.log("FAILURE DELETE!!"),this.files.splice(e,1),this.fileIDs.splice(e,1)})},handleFileUpload:function(){var e=!0,t=!1,s=void 0;try{for(var n,o=this.$refs.fileattachment.files[Symbol.iterator]();!(e=(n=o.next()).done);e=!0){var i=n.value;this.files.push(i),console.log(this.uppedFiles)}}catch(e){t=!0,s=e}finally{try{e||null==o.return||o.return()}finally{if(t)throw s}}}}}),Ee=Ie,Se=(s("2a7d"),Object(d["a"])(Ee,Te,je,!1,null,"5a83b210",null));Se.options.__file="typeFile.vue";var $e=Se.exports,Fe={name:"App",components:{PageButtons:h,PageHolder:y,PillButtons:x,CheckBoxes:B,DatePicker:J,QuestionHolder:I,typeSignature:Z,VueStars:re,Range:ve,typeInput:qe,typeFile:$e,PageBrowser:Ne},data:function(){return{input:null,dateInput:null,extObj:{},prevResponses:{},urlHeader:{},urlLocation:window.location.origin,rootPage:we.rootPage,pagesNumber:0,modelPage:1,ifDisplay:[],show:[],objFormat:{},isConfirmed:!1,isOpen:!0,loaded:!1,errored:!1,debugMode:!1}},methods:{checkForm:function(){we.errors=[],this.extObj.pages[we.rootPage-1].questions.forEach(function(e){e.required&&null==e.response&&we.errors.push(e.id)}),0!=we.errors.length?this.$scrollTo(document.getElementById(we.errors[0]),500,{force:!1,offset:-300}):we.confirmed=!0},showQuestion:function(){var e=this,t=[];this.pagesNumber=0,0==this.ifDisplay.length&&this.extObj.pages.forEach(function(t){e.pagesNumber++,t.questions.forEach(function(t){if(null!=t.lnkQuestion){var s=[];t.lnkResponse.forEach(function(e){s.push(e.id)}),e.ifDisplay.push({id:t.id,lnkQuestion:t.lnkQuestion,lnkResponse:s})}})}),this.extObj.pages.forEach(function(s){e.pagesNumber++,s.questions.forEach(function(s){var n=[];null!=s.response&&((s.type.includes("LISTE")||s.type.includes("BOOL"))&&(n=[s.response.value]),(s.type.includes("MULTI")||s.type.includes("SIMPLE"))&&(n=s.response.value),n.forEach(function(n){e.ifDisplay.forEach(function(e){e.lnkQuestion==s.id&&e.lnkResponse.includes(n)&&t.push(e.id)})}))})}),this.show=[],this.extObj.pages.forEach(function(s){s.questions.forEach(function(s){s.isHiding&&t.includes(s.id)&&e.show.push(s.id)})})},finalPost:function(){var e=this;this.objFormat={confirmed:!0},this.$http.post("services/confirm?"+we.tokenName+"="+encodeURIComponent(we.tokenValue),JSON.stringify(this.objFormat)).then(function(t){t.data.confirmed&&(e.isConfirmed=t.data.confirmed)})},postResponse:function(e,t){var s=this,n="answer?";"object"!==Object(r["a"])(e)?this.objFormat={idQuestion:t,value:e}:this.objFormat=e,this.$http.post("services/"+n+we.tokenName+"="+encodeURIComponent(we.tokenValue),JSON.stringify(this.objFormat)).then(function(e){s.extObj.pages.forEach(function(e){e.questions.forEach(function(e){e.id==s.objFormat.idQuestion&&(null==e.response&&(e.response=s.objFormat),e.response.value=s.objFormat.value,console.log(s.objFormat))})}),console.log("succes"),s.showQuestion(null)}).catch(function(e){console.log("en erreur")})},postCapture:function(e,t){var s="capture?";this.objFormat=e,this.$http.post("services/"+s+we.tokenName+"="+encodeURIComponent(we.tokenValue),JSON.stringify(this.objFormat)).then(function(e){return console.log(e)}).catch(function(e){console.log("en erreur")})},postFile:function(e,t){var s="attachment?";this.objFormat=e,this.$http.post("services/"+s+we.tokenName+"="+encodeURIComponent(we.tokenValue),JSON.stringify(this.objFormat)).catch(function(e){console.log("en erreur")})},refreshPage:function(e){this.$router.push({name:"enquete",params:{rootPage:we.rootPage}}),"com"==we.tokenName?this.$router.push({query:{com:we.tokenValue}}):"auth"==we.tokenName?this.$router.push({query:{auth:we.tokenValue}}):"ano"==we.tokenName&&this.$router.push({query:{ano:we.tokenValue}})}},mounted:function(){var e=this;we.rootPage=parseInt(this.$route.params.rootPage),this.$route.query.auth?(we.tokenName="auth",we.tokenValue=this.$route.query.auth):this.$route.query.ano?(we.tokenName="ano",we.tokenValue=this.$route.query.ano):(console.log("com"),we.tokenName="com",we.tokenValue=this.$route.query.com),console.log(this.$route.query),this.$http.get("services/survey?"+we.tokenName+"="+encodeURIComponent(we.tokenValue)).then(console.log("services/survey?"+we.tokenName+"="+encodeURIComponent(we.tokenValue))).then(function(t){e.extObj=t.data,e.prevResponses=t.data.responses;var s=new Date;s.toISOString()>=t.data.start&&s.toISOString()<=t.data.end?(console.log(Date()),e.isOpen=!0):e.isOpen=!1,we.tokenName=t.data.NameKey,we.tokenValue=t.data.ValueKey,e.showQuestion(null),e.refreshPage(!0),console.log("succes")}).catch(function(t){console.log(t),e.errored=!0}).finally(function(){return e.loaded=!0})}},Re=Fe,Be=(s("034f"),Object(d["a"])(Re,i,a,!1,null,null,null));Be.options.__file="App.vue";var De=Be.exports;n["a"].use(o["a"]);var Ue=new o["a"]({routes:[{path:"/",name:"App",component:De},{name:"enquete",path:"/:rootPage"}]}),Le=s("bc3a"),Me=s.n(Le),He=s("f13c"),Qe=s.n(He),Ae=s("e37d");n["a"].prototype.$http=Me.a,n["a"].use(Ae["a"],{defaultPlacement:"top",defaultClass:"vue-tooltip-theme",defaultTargetClass:"has-tooltip",defaultArrowSelector:".tooltip-arrow, .tooltip__arrow",defaultInnerSelector:".tooltip-inner, .tooltip__inner",defaultDelay:500,defaultTrigger:"hover focus",defaultOffset:0,defaultContainer:"body",defaultBoundariesElement:void 0,defaultPopperOptions:{},defaultLoadingClass:"tooltip-loading",defaultLoadingContent:"...",autoHide:!0,defaultHideOnTargetClick:!0,disposeTimeout:500}),n["a"].use(Qe.a,{container:"body",duration:500,easing:"ease",offset:0,force:!1,cancelable:!0,onStart:!1,onDone:!1,onCancel:!1,x:!1,y:!0}),n["a"].prototype.sessionVars=we,n["a"].config.productionTip=!1,n["a"].config.devtools=!0,new n["a"]({router:Ue,render:function(e){return e(De)}}).$mount("#app")},"5cfb":function(e,t,s){},"5f85":function(e,t,s){},7350:function(e,t,s){},"7ab8":function(e,t,s){},"88a7":function(e,t,s){},a2d2:function(e,t,s){"use strict";var n=s("adee"),o=s.n(n);o.a},a30b:function(e,t,s){},adee:function(e,t,s){},b87d:function(e,t,s){"use strict";var n=s("5cfb"),o=s.n(n);o.a},b87e:function(e,t,s){},c21b:function(e,t,s){},c2a8:function(e,t,s){"use strict";var n=s("51a5"),o=s.n(n);o.a},d280:function(e,t,s){"use strict";var n=s("d7b1"),o=s.n(n);o.a},d7b1:function(e,t,s){},da22:function(e,t,s){"use strict";var n=s("521e"),o=s.n(n);o.a},e1bf:function(e,t,s){"use strict";var n=s("0c6e"),o=s.n(n);o.a},e9e1:function(e,t,s){},f5a8:function(e,t,s){"use strict";var n=s("7350"),o=s.n(n);o.a}});
//# sourceMappingURL=app.js.map